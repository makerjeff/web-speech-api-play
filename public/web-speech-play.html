<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spitch</title>
    <style>
        .normal {
            background: rgba(0,0,0,0.1);
        }

        .red {
            background: rgba(255,0,0,1.0);
        }

        .green {
            background: rgba(0,255,0,1.0);
        }
    </style>
</head>
<body>


<div id="container">
    <div id="title" class="normal">Spitch Aye-Pee-Eye</div>

    <button id="start_button">start listening</button>

    <div id="debug_messages"> debug </div>

</div>


<script>

    // feed the right module into chrome
    var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
    var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList;
    var SpeechRecognitionEvent = SpeechRecognitionEvent || webkitSpeechRecognitionEvent;

    //Jeff-Made-Buttons
    var buttonState = false;
    var startButton = document.getElementById('start_button');
    var title = document.getElementById('title');
    var debug = document.getElementById('debug_messages');

    //test
    startButton.addEventListener('click', function(e){
        buttonState = !buttonState;
        console.log(buttonState);
        startButton.innerText = buttonState;

        if(buttonState == true) {
            title.classList.remove('normal');
            debug.innerHTML = 'listening!';

            if(title.classList.contains('red')) {
                title.classList.remove('red');
                title.classList.add('green');
                console.log('I see red! Deleting now.');
            } else {
                title.classList.add('green');
            }
        } else {
            title.classList.remove('green');
            title.classList.add('red');
            debug.innerHTML = 'not listening.';
        }
    });




</script>
</body>
</html>